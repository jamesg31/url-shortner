(this["webpackJsonpurl-shortner-frontend"]=this["webpackJsonpurl-shortner-frontend"]||[]).push([[0],{142:function(t,e,n){},168:function(t,e,n){},169:function(t,e,n){},248:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(40),o=n.n(r),s=(n(141),n(142),n(266)),c=n(26),u=n(27),l=n(33),h=n(32),d=n(36),p=n.n(d),j=n(249),b=n(264),g=n(271),f=n(265),O=n(124),m=n.n(O),v=n(267),x=n(263),I=n(122),C=n.n(I),k=n(6),L=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).onSuccess=function(e){console.log(e),p.a.post("/api/auth/google",{token:e.tokenId}).then((function(e){console.log(e),t.props.onComplete()}))},t.onFailure=function(t){console.log(t)},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return Object(k.jsx)(C.a,{clientId:"840964669560-lv3dkc9uuc15d24fr3e1tk46tq29k2fa.apps.googleusercontent.com",render:function(e){return Object(k.jsx)(j.a,{primary:t.props.primary,positive:t.props.positive,onClick:e.onClick,children:t.props.children})},buttonText:"Login",onSuccess:this.onSuccess,onFailure:this.onFailure})}}]),n}(i.a.Component),y=L,S=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return Object(k.jsx)(v.a,{size:"large",secondary:!0,children:Object(k.jsx)(x.a,{children:Object(k.jsx)(v.a.Item,{position:"right",children:Object(k.jsx)(y,{primary:!0,onComplete:function(){return t.props.onLoginComplete()},style:{marginTop:".5em"},children:"Log in"})})})})}}]),n}(i.a.Component),R=S,D=(n(168),n(268)),U=n(270),w=(n(169),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).delete=function(t){p.a.delete("/api/urls/"+t.currentTarget.getAttribute("url")).then((function(t){a.updateList()}))},a.state={urls:[]},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.updateList()}},{key:"updateList",value:function(){var t=this;p.a.get("/api/urls").then((function(e){t.setState({urls:e.data})}))}},{key:"render",value:function(){var t=this;if(this.state.urls.length>0)var e=Object(k.jsxs)(D.a,{divided:!0,verticalAlign:"middle",className:"url-list",children:[Object(k.jsx)(U.a,{as:"h1",children:"Manage URL's:"}),this.state.urls.map((function(e){return Object(k.jsxs)(D.a.Item,{children:[Object(k.jsx)(D.a.Content,{floated:"right",children:Object(k.jsx)(j.a,{negative:!0,url:e.url,onClick:t.delete,children:"Delete"})}),Object(k.jsxs)(D.a.Content,{children:[Object(k.jsxs)(D.a.Header,{children:["URL: /",e.url]}),"Redirect Destination: ",e.destination]})]})}))]});else e=null;return Object(k.jsx)(i.a.Fragment,{children:e})}}]),n}(i.a.Component)),E=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).onLoginComplete=function(){p.a.post("/api/urls",{url:a.state.urlInput,destination:a.state.destinationInput}).then((function(t){console.log(t),a.urlListRef.current.updateList()}))},a.state={buttonState:0,urlInput:"",destinationInput:"",destinationInputError:!1},a.timeout=0,a.urlListRef=i.a.createRef(),a.cookies=t.cookies,a}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(){console.log("userId:"),console.log(this.cookies.get("userId"))}},{key:"onUrlInputChange",value:function(t){var e=this;this.setState({buttonState:0,urlInput:t.target.value}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.target.value.length>0&&p.a.get("/api/urls/"+t.target.value).then((function(t){console.log(t.data),0===t.data.length?e.setState({buttonState:2}):e.setState({buttonState:1})}))}),300)}},{key:"onDestinationInputChange",value:function(t){m.a.isURL(t.target.value)?this.setState({destinationInput:t.target.value,destinationInputError:!1}):this.setState({destinationInput:t.target.value,destinationInputError:!0})}},{key:"render",value:function(){var t=this;if(0===this.state.buttonState)var e=Object(k.jsx)(j.a,{loading:!0,children:"Loading"});else 1===this.state.buttonState?e=Object(k.jsx)(j.a,{negative:!0,children:"Not Available"}):2===this.state.buttonState&&(e=Object(k.jsx)(y,{positive:!0,onComplete:this.onLoginComplete,children:"Create"}));if(this.state.destinationInputError)var n=Object(k.jsx)(b.a,{error:!0,value:this.state.destinationInput,placeholder:"https://example.com",onChange:function(e){return t.onDestinationInputChange(e)}});else n=Object(k.jsx)(b.a,{value:this.state.destinationInput,placeholder:"https://example.com",onChange:function(e){return t.onDestinationInputChange(e)}});return Object(k.jsxs)(i.a.Fragment,{children:[Object(k.jsx)(R,{onLoginComplete:function(){return t.urlListRef.current.updateList()}}),Object(k.jsxs)(g.a.Group,{className:"create-form",horizontal:!0,raised:!0,children:[Object(k.jsxs)(g.a,{className:"create-form-segment",align:"right",children:[Object(k.jsx)("h4",{children:"Destination:"}),n]}),Object(k.jsxs)(g.a,{className:"create-form-segment",children:[Object(k.jsx)("h4",{children:"URL:"}),Object(k.jsx)(b.a,{value:this.state.urlInput,action:e,onChange:function(e){return t.onUrlInputChange(e)},label:window.location.origin+"/",placeholder:"shortened-url"})]})]}),Object(k.jsx)(w,{ref:this.urlListRef})]})}}]),n}(i.a.Component),F=Object(f.a)(E);o.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(s.a,{children:Object(k.jsx)(F,{})})}),document.getElementById("root"))}},[[248,1,2]]]);
//# sourceMappingURL=main.4f767923.chunk.js.map