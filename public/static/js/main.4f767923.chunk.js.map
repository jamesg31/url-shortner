{"version":3,"sources":["components/Login.js","components/NavHeader.js","components/URLList.js","App.js","index.js"],"names":["Login","onSuccess","res","console","log","axios","post","token","tokenId","then","props","onComplete","onFailure","clientId","render","renderProps","Button","primary","positive","onClick","children","buttonText","this","React","Component","NavHeader","Menu","size","secondary","Container","Item","position","onLoginComplete","style","marginTop","URLList","delete","event","currentTarget","getAttribute","results","updateList","state","urls","get","setState","data","length","list","List","divided","verticalAlign","className","Header","as","map","url","Content","floated","negative","destination","Fragment","App","urlInput","destinationInput","urlListRef","current","buttonState","destinationInputError","timeout","createRef","cookies","target","value","clearTimeout","setTimeout","validator","isURL","button","loading","Input","error","placeholder","onChange","onDestinationInputChange","Segment","Group","horizontal","raised","align","action","onUrlInputChange","label","window","location","origin","ref","withCookies","ReactDOM","StrictMode","CookiesProvider","document","getElementById"],"mappings":"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","file":"static/js/main.4f767923.chunk.js","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport GoogleLogin from 'react-google-login';\r\nimport { Button } from 'semantic-ui-react';\r\n\r\nclass Login extends React.Component {\r\n    onSuccess = (res) => {\r\n        console.log(res);\r\n        axios.post('/api/auth/google', { token: res.tokenId }).then((res) => {\r\n            console.log(res);\r\n            this.props.onComplete();\r\n        })\r\n    }\r\n\r\n    onFailure = (res) => {\r\n        console.log(res);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <GoogleLogin\r\n                clientId=\"840964669560-lv3dkc9uuc15d24fr3e1tk46tq29k2fa.apps.googleusercontent.com\"\r\n                render={renderProps => (\r\n                    <Button primary={this.props.primary} positive={this.props.positive} onClick={renderProps.onClick}>{this.props.children}</Button>\r\n                )}\r\n                buttonText=\"Login\"\r\n                onSuccess={this.onSuccess}\r\n                onFailure={this.onFailure}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Container, Menu } from 'semantic-ui-react';\r\nimport Login from './Login';\r\n\r\nclass NavHeader extends React.Component {\r\n    render() {\r\n        return (\r\n            <Menu size='large' secondary>\r\n                <Container>\r\n                    <Menu.Item position='right'>\r\n                        <Login primary={true} onComplete={() => this.props.onLoginComplete()} style={{ marginTop: '.5em' }}>\r\n                            Log in\r\n                        </Login>\r\n                    </Menu.Item>\r\n                </Container>\r\n            </Menu>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NavHeader;","import React from 'react';\r\nimport axios from 'axios';\r\nimport { List, Header, Button } from 'semantic-ui-react';\r\nimport './URLList.css';\r\n\r\nclass URLList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            urls: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateList();\r\n    }\r\n\r\n    updateList() {\r\n        axios.get('/api/urls').then((res) => {\r\n            this.setState({ urls: res.data });\r\n        });\r\n    }\r\n\r\n    delete = (event) => {\r\n        axios.delete('/api/urls/' + event.currentTarget.getAttribute('url')).then((results) => {\r\n            this.updateList();\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.urls.length > 0) {\r\n            var list = <List divided verticalAlign='middle' className='url-list'>\r\n                <Header as='h1'>Manage URL's:</Header>\r\n                {this.state.urls.map((url) => {\r\n                    return (\r\n                        <List.Item>\r\n                            <List.Content floated='right'><Button negative url={url.url} onClick={this.delete}>Delete</Button></List.Content>\r\n                            <List.Content>\r\n                                <List.Header>URL: /{url.url}</List.Header>\r\n                                Redirect Destination: {url.destination}\r\n                            </List.Content>\r\n                        </List.Item>\r\n                    )\r\n                })}\r\n            </List>\r\n        } else {\r\n            list = null;\r\n        }\r\n        return (\r\n            <React.Fragment>\r\n                {list}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default URLList;","import React from 'react';\nimport axios from 'axios';\nimport { Input, Button, Segment } from 'semantic-ui-react';\nimport { instanceOf } from 'prop-types';\nimport { withCookies, Cookies } from 'react-cookie';\nimport validator from 'validator'\nimport NavHeader from './components/NavHeader';\nimport './App.css';\nimport Login from './components/Login';\nimport URLList from './components/URLList';\n\nclass App extends React.Component {\n  static propTypes = {\n    cookies: instanceOf(Cookies).isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      buttonState: 0,\n      urlInput: '',\n      destinationInput: '',\n      destinationInputError: false\n    }\n    this.timeout = 0;\n    this.urlListRef = React.createRef();\n    this.cookies = props.cookies;\n  }\n\n  componentDidUpdate() {\n    console.log('userId:')\n    console.log(this.cookies.get('userId'));\n  }\n\n  onUrlInputChange(event) {\n    this.setState({ buttonState: 0, urlInput: event.target.value });\n    if (this.timeout) clearTimeout(this.timeout);\n    this.timeout = setTimeout(() => {\n      if (event.target.value.length > 0) {\n        axios.get('/api/urls/' + event.target.value).then((res) => {\n          console.log(res.data);\n          if (res.data.length === 0) {\n            this.setState({ buttonState: 2 });\n          } else {\n            this.setState({ buttonState: 1 });\n          }\n        })\n      }\n    }, 300);\n  }\n\n  onDestinationInputChange(event) {\n    if (!validator.isURL(event.target.value)) {\n      this.setState({ destinationInput: event.target.value, destinationInputError: true })\n    } else {\n      this.setState({ destinationInput: event.target.value, destinationInputError: false })\n    }\n  }\n\n  onLoginComplete = () => {\n    axios.post('/api/urls', { url: this.state.urlInput, destination: this.state.destinationInput }).then((res) => {\n      console.log(res);\n      this.urlListRef.current.updateList();\n    });\n  }\n\n  render() {\n    if (this.state.buttonState === 0) {\n      var button = <Button loading>Loading</Button>\n    } else if (this.state.buttonState === 1) {\n      button = <Button negative>Not Available</Button>\n    } else if (this.state.buttonState === 2) {\n      button = <Login positive={true} onComplete={this.onLoginComplete}>Create</Login>\n    }\n    if (this.state.destinationInputError) {\n      var destinationInput = <Input error value={this.state.destinationInput} placeholder='https://example.com' onChange={(event) => this.onDestinationInputChange(event)} />\n    } else {\n      destinationInput = <Input value={this.state.destinationInput} placeholder='https://example.com' onChange={(event) => this.onDestinationInputChange(event)} />\n    }\n    return (\n      <React.Fragment>\n        <NavHeader onLoginComplete={() => this.urlListRef.current.updateList()} />\n        <Segment.Group className='create-form' horizontal raised>\n          <Segment className='create-form-segment' align=\"right\">\n            <h4>Destination:</h4>\n            {destinationInput}\n          </Segment>\n          <Segment className='create-form-segment'>\n            <h4>URL:</h4>\n            <Input value={this.state.urlInput} action={button} onChange={(event) => this.onUrlInputChange(event)} label={window.location.origin + '/'} placeholder='shortened-url' />\n          </Segment>\n        </Segment.Group>\n        <URLList ref={this.urlListRef} />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withCookies(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css';\nimport './index.css';\nimport { CookiesProvider } from 'react-cookie';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <CookiesProvider>\n      <App />\n    </CookiesProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}